/**
 * Angular-based model library for use in MVC framework design
 * @version v0.1.9
 * @link https://github.com/dlhdesign/angular-m
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="angular-m"),function(a,b,c){"use strict";function d(a){return y(arguments,function(b){b!==a&&y(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function e(a){if(Object.keys)return Object.keys(a);var b=[];return y(a,function(a,c){b.push(c)}),b}function f(a,b){var c=a.length>>>0,d=Number(arguments[2])||0;if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function g(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b}function h(a,b){var c=s(a).result=c?[]:{};return y(a,function(a,d){b(a,d)&&(result[c?result.length:d]=a)}),result}function i(a,b,c){function d(a,d,e){var f=c.defer(),g=v(navigator.onLine)?navigator.onLine:!0;return a=a||{},a.method=a.method||i.read,g===!1?(e(j),f.reject(j)):b(a).success(function(a){o(d)&&d(a),f.resolve(a)}).error(function(a){o(e)&&e(a),f.reject(a)}),f}function e(a,b,c){return a=a||{},a.method=i.read,d(a,b,c)}function f(a,b,c){return a=a||{},a.method=i.update,d(a,b,c)}function g(a,b,c){return a=a||{},a.method=i.create,d(a,b,c)}function h(a,b,c){return a=a||{},a.method=i["delete"],d(a,b,c)}var i={read:"GET",update:"PUT",create:"POST","delete":"DELETE"},j={online:!1};return{METHODS:i,call:d,read:e,update:f,create:g,"delete":h,readList:e,updateList:f,createList:g,deleteList:h}}function j(){return{email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])+$/i,latLong:/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/,zip:/^\d{5}(?:[-\s]\d{4})?$/,timeZone:/^GMT\s[+-]\d{2}:\d{2}$/,timeStr:/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/,number:/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?$/,object:/^{.*}$/,array:/^\[.*]$/,"boolean":/^true|false$/}}function k(){function a(a,b){for(var c=this,d=0;d<c.__cbQueue.length;d++)c.__cbQueue[d].idx<=a&&((c.__cbQueue[d].type<3&&c.__finals[a]&&c.__finals[a].resolved===!0||c.__cbQueue[d].type>1&&c.__cbQueue[d].type<4&&c.__finals[a]&&c.__finals[a].rejected===!0||4===c.__cbQueue[d].type&&(!c.__finals[a]||!c.__finals[a].resolved&&!c.__finals[a].rejected))&&c.__cbQueue[d].cb.call(c,b),(c.__finals[a].resolved||c.__finals[a].rejected)&&(c.__cbQueue.splice(d,1),d--))}function b(){}var c=!1,d=/xy/.test(function(){return"xy"})?/\b_super\b/:/.*/;return b.prototype={$type:"Base",init:function(a,b){var c=this;return c.__arguments=z(arguments),c.__cbQueue=[],c.__cbQueueIdx=1,c.__finals=[],c.__listeners={},c.$errors={},c.$valid=!0,c},clone:function(){var a=this,b=new a.constructor(null,!0);return b.__arguments=z(a.__arguments),a.trigger("cloned",b),b},isFinal:function(a){var b=this;return a=a||b.__cbQueueIdx,b.__finals[a]?!(!b.__finals[a].resolved&&!b.__finals[a].rejected):!1},resolve:function(b,c){var d=this;return b=b||d.__cbQueueIdx,d.isFinal(b)||(d.__finals[b]={resolved:!0,data:c},a.call(d,b,c),d.trigger("resolved",c),d.trigger("finalized",c)),d},reject:function(b,c){var d=this;return b=b||d.__cbQueueIdx,d.isFinal(b)||(d.__finals[b]={rejected:!0,data:c},a.call(d,b,c),d.trigger("rejected",c),d.trigger("finalized",c)),d},notify:function(b,c){var d=this;return b=b||d.__cbQueueIdx,d.isFinal(b)||(a.call(d,b,c),d.trigger("notified",c)),d},unfinalize:function(){return this.trigger("unfinalized"),++this.__cbQueueIdx},then:function(b,c,d){var e=this;return o(b)&&e.__cbQueue.push({type:1,cb:b,idx:e.__cbQueueIdx}),o(c)&&e.__cbQueue.push({type:3,cb:c,idx:e.__cbQueueIdx}),o(d)&&e.__cbQueue.push({type:4,cb:d,idx:e.__cbQueueIdx}),e.__finals[e.__cbQueueIdx]&&a.call(e,e.__cbQueueIdx,e.__finals[e.__cbQueueIdx].data),e},always:function(b){var c=this;return o(b)&&c.__cbQueue.push({type:2,cb:b,idx:c.__cbQueueIdx}),c.__finals[c.__cbQueueIdx]&&a.call(c,c.__cbQueueIdx,c.__finals[c.__cbQueueIdx].data),c},success:function(a){return this.then(a)},fail:function(a){return this.then(null,a)},progress:function(a){return this.then(null,null,a)},bind:function(a,b){var c=this;return p(a)&&o(b)&&(c.__listeners[a]=c.__listeners[a]||[],c.__listeners[a].push(b)),c},unbind:function(a,b){var c=this;return p(a)&&s(c.__listeners[a])&&c.__listeners[a].length>0&&(o(b)?c.__listeners[a]=h(c.__listeners[a],function(a){return a!==b}):delete c.__listeners[a]),c},one:function(a,b){var c,d=this;return p(a)&&o(b)&&(c=function(){b.call(this,arguments),d.unbind(a,c)},d.bind(a,c)),d},trigger:function(a,b){var c=this,d=!0;return p(a)&&s(c.__listeners[a])&&c.__listeners[a].length>0&&y(c.__listeners[a],function(e){d=e.call(c,b,a)&&d}),d}},b.extend=function e(a){function b(a,b){function c(){return a.apply(this,b)}return c.prototype=a.prototype,new c}function f(a,b,c){return function(){var d,e=this._super;return this._super=c[a],d=b.apply(this,arguments),o(e)?this._super=e:delete this._super,d}}function g(){return this.constructor!==g?b(g,arguments):!c&&o(this.init)?this.init.apply(this,arguments):void 0}var h,i,j=this.prototype;c=!0,h=new this,c=!1,a.$type||(a.$type="Class");for(i in a)a.hasOwnProperty(i)&&(o(a[i])&&o(j[i])&&d.test(a[i])?h[i]=f(i,a[i],j):h[i]=a[i]);return g.prototype=h,Object.defineProperty?Object.defineProperty(g.prototype,"constructor",{enumerable:!1,value:g}):g.prototype.constructor=g,g.extend=e,g},b}function l(a,b){function g(a){return a.charAt(0).toLowerCase()+a.slice(1).replace(/_([a-z])/g,function(a,b){return b.toUpperCase()})}function h(a){return a.charAt(0).toUpperCase()+a.slice(1).replace(/_([a-z])/g,function(a,b){return" "+b.toUpperCase()})}function i(a,b,c,d){a.$errors[b]=a.$errors[b]||{},a.$errors[b][c]=d,a[b].$errors[c]=d}function j(a,d){var e,g,h=!0;return d.required===!0&&(a===c||null===a||0===a.length?(i(this,d.methodName,"required",!1),h=!1):i(this,d.methodName,"required",!0)),a!==c&&null!==a&&(f(["st","nu","ob","ar","bo","dt"],d.type)>-1&&(i(this,d.methodName,"type",!0),("st"===d.type&&!p(a)||"nu"===d.type&&!q(a)&&!b.number.test(a)||"ob"===d.type&&!r(a)&&!b.object.test(a)||"ar"===d.type&&!s(a)&&!b.array.test(a)||"bo"===d.type&&!v(a)&&!b["boolean"].test(a)||"dt"===d.type&&!t(new Date(a)))&&(i(this,d.methodName,"type",!0),h=!1)),(q(d.min)||"dt"===d.type&&t(d.min))&&(("st"===d.type||"ar"===d.type)&&a.length>=d.min?i(this,d.methodName,"min",!0):(!d.type||"nu"===d.type)&&parseFloat(a)>=d.min?i(this,d.methodName,"min",!0):"dt"===d.type&&new Date(a)>=new Date(d.min)?i(this,d.methodName,"min",!0):(i(this,d.methodName,"min",!1),h=!1)),(q(d.max)||"dt"===d.type&&t(d.max))&&(("st"===d.type||"ar"===d.type)&&a.length<=d.max?i(this,d.methodName,"max",!0):(!d.type||"nu"===d.type)&&parseFloat(a)<=d.max?i(this,d.methodName,"max",!0):"dt"===d.type&&new Date(a)<=new Date(d.max)?i(this,d.methodName,"max",!0):(i(this,d.methodName,"max",!1),h=!1))),w(d.matches)&&(e=d.matches.test(a)||u(a)||x(a)||0===a.length,i(this,d.methodName,"matches",e),h=e&&h),s(d.limit)?((u(a)||x(a)||0===a.length)&&i(this,d.methodName,"limit",!1),g=d.limit.indexOf(a)>-1,i(this,d.methodName,"limit",g),h=g&&h):r(d.limit)?((u(a)||x(a)||0===a.length)&&i(this,d.methodName,"limit",!1),g=d.limit.hasOwnProperty(a),i(this,d.methodName,"limit",g),h=g&&h):p(d.limit)&&((u(a)||x(a)||0===a.length)&&i(this,d.methodName,"limit",!1),g=d.limit===a,i(this,d.methodName,"limit",g),h=g&&h),h}var k=function(){};return k=a.extend({$type:"Singleton",init:function(a,b){var d=this._super.apply(this,arguments);return d.__merged=d.__data=a||{},d.__setData={},d.$loaded=a?!0:!1,d.$dirty=!1,d.$busy=!1,d.__fieldConfig=!1,d.each(function(a){function b(){var b,e=a.key;if(a.__getterCacheSet===!0)return a.__getterCache;if(a.getter)b=a.getter.call(d,a);else{for(e=e.split("."),b=d.get()[e.shift()];e.length>0;){if(r(b)===!1)return null;b=b[e.shift()]}null!==b&&b!==c||a["default"]===c||(b=a["default"]),o(a.mutateGet)===!0&&(b=a.mutateGet.call(d,b,a))}return a.__getterCacheSet=!0,a.__getterCache=b,b}function e(b){var c,e,f=a.key;if(a.readonly===!0)throw new Error(a.methodName+" is read-only.");if(d.__merged=!1,d.$dirty=!0,d.$loaded=!0,a.__getterCacheSet=!1,delete a.__getterCache,a.setter)return a.setter.call(d,b,a),d;for(f=f.split("."),e=d.__setData;f.length>1;)c=f.shift(),e=e[c]=r(e[c])===!0?e[c]:{};return o(a.mutateSet)===!0&&(b=a.mutateSet.call(d,b,a)),e[f]=b,d}if(a.getter!==c&&!o(a.getter))throw new Error('Singleton Init Error: "getter" must be undefined/null or a function');if(a.setter!==c&&!o(a.setter))throw new Error('Singleton Init Error: "setter" must be undefined/null or a function');d[a.methodName]=function(c){return arguments.length?e.call(d[a.methodName],c):b.call(d[a.methodName])},d[a.methodName].$label=a.label||h(a.configKey),a.label=d[a.methodName].$label,d[a.methodName].$errors={},d[a.methodName].$config=a,d[a.methodName].valid=function(b){var c=!0;return 0===arguments.length&&(b=d[a.methodName]()),o(a.validator)&&(c=a.validator.call(d,b,a),i(d,a.methodName,"validator",c)),c=j.call(d,b,a)&&c,d.$valid=c,c}})},get:function(){var a=this;return a.__merged!==!1?a.__merged:(a.__merged=d({},a.__data,a.__setData),a.__merged)},set:function(a){var b=this;return b.__merged=!1,b.$dirty=!0,b.__setData=z(a),b.$loaded=b.$loaded||e(a).length>0,b.clearCache(),b},clearCache:function(){var a=this;return a.__merged!==!1&&(a.__merged=!1,a.each(function(a){a.__getterCacheSet=!1,delete a.__getterCache})),a},each:function(a){var b=this;return r(b.fields)&&b.__fieldConfig===!1&&(b.__fieldConfig=[],y(b.fields,function(a,c){var d=o(a)?a.apply(b,arguments):r(a)?z(a):{};d.key=d.key||c,d.configKey=c,d.methodName=d.methodName||g(c),b.__fieldConfig.push(d)})),s(b.__fieldConfig)===!0&&b.__fieldConfig.length>0&&y(b.__fieldConfig,function(c){a.call(b,c)}),b},validate:function(){var a=this;return a.each(function(b){a[b.methodName].valid()}),a},cancel:function(){var a=this;return a.$dirty&&(a.$dirty=!1,a.clearCache(),a.__setData={}),a},finalize:function(a){var b=this;return(a||b.$dirty)&&(b.$dirty=!1,b.__data=a||b.get(),b.__setData={},b.trigger("finalize",a)),b},clone:function(){var a=this,b=a._super.apply(a,arguments);return b.__data=z(a.__data),b.set(a.__setData),b.$loaded=a.$loaded,b.$parent=a.$parent,b},resolve:function(){var a=this;return a.$loaded=!0,delete a.$busy,a.clearCache(),a._super.apply(a,arguments)},reject:function(){var a=this;return a.$loaded=!0,delete a.$busy,a.clearCache(),a._super.apply(a,arguments)},refresh:function(){var a=this;return a.__lastReadData?a.read(a.__lastReadData):a.read()},readService:!1,read:function(a,b){var c,d=this;return d.$busy===!0?(d.always(function(){d.read(a,b)}),b=d.unfinalize(),d):(b=b||d.unfinalize(),o(d.readService)?(d.$busy=!0,d.__lastReadData=a||{},c=d.readService(a,function(a){delete d.$errors.read,d.finalize(a),d.resolve(b)},function(a){d.$errors.read=a,d.reject(b)}),c===!1&&(d.$errors.read=!0,d.reject(b))):(d.$errors.read=!0,d.reject(b)),d)},updateService:!1,update:function(a,b){var c,d=this;if(d.$busy===!0)return d.always(function(){d.update(a,b)}),b=d.unfinalize(),d;if(b=b||d.unfinalize(),o(d.updateService)){if(d.$busy=!0,0===arguments.length){if(d.$dirty!==!0)return delete d.$errors.update,d.resolve(b);a=d.__setData}c=d.updateService(a,function(a){delete d.$errors.update,d.finalize(a),d.resolve(b)},function(a){d.$errors.update=a,d.reject(b)}),c===!1&&(d.$errors.update=!0,d.reject(b))}else d.$errors.update=!0,d.reject(b);return d},uploadService:!1,upload:function(a,b){var c,d=this;return d.$busy===!0?(d.always(function(){d.upload(a,b)}),b=d.unfinalize(),d):(b=b||d.unfinalize(),o(d.uploadService)?(d.$busy=!0,c=d.uploadService(a,function(a){delete d.$errors.upload,d.finalize(a),d.resolve(b)},function(a){d.$errors.upload=a,d.reject(b)}),c===!1&&(d.$errors.upload=!0,d.reject(b))):(d.$errors.upload=!0,d.reject(b)),d)},createService:!1,create:function(a,b){var c,d=this;if(d.$busy===!0)return d.always(function(){d.create(a,b)}),b=d.unfinalize(),d;if(b=b||d.unfinalize(),o(d.createService)){if(d.$busy=!0,0===arguments.length){if(d.$dirty!==!0)return delete d.$errors.create,d.resolve(b);a=d.get()}c=d.createService(a,function(a){delete d.$errors.create,d.finalize(a),d.resolve(b)},function(a){d.$errors.create=a,d.reject(b)}),c===!1&&(d.$errors.create=!0,d.reject(b))}else d.$errors.create=!0,d.reject(b);return d},deleteService:!1,"delete":function(a,b){var c,d=this;return d.$busy===!0?(d.always(function(){d["delete"](a,b)}),b=d.unfinalize(),d):(b=b||d.unfinalize(),o(d.deleteService)?(d.$busy=!0,c=d.deleteService(a,function(a){delete d.$errors["delete"],d.finalize(a||{}),d.resolve(b)},function(a){d.$errors["delete"]=a,d.reject(b)}),c===!1&&(d.$errors["delete"]=!0,d.reject(b))):(d.$errors["delete"]=!0,d.reject(b)),d)}})}function m(a,b){function d(){var a=this;a.$allSelected=!1,a.$noneSelected=!0,a.$selectedCount===a.length&&a.length>0&&(a.$allSelected=!0),a.$selectedCount>0&&(a.$noneSelected=!1)}function e(a,b){var d,e;if(p(a)&&a.length>0){for(a=a.split(".");a.length>0;)if(e=a.shift(),o(b[e])===!1)d=b[e]();else{if(r(d)===!1)return c;d=b[e]}return d}return c}var f=function(){},i=/^\s+([+-]?)(.*)\s+$/;return f=a.extend({$type:"Collection",childModel:b,init:function(a,b){var c=this._super.apply(this,arguments);c.__data=a||[],c.__addData=[],c.length=c.__data.length,c.$loaded=c.length>0,c.__origData=null,c.$selected=[],c.$selectedCount=0,c.$allSelected=!1,c.$noneSelected=!0,c.$busy=!1},each:function(a,b){var c=this;return o(a)===!0&&y(c.get(),a),c},get:function(){var a=this;return a.__modeled?a.__modeled:(a.__modeled=new Array(a.length),y(a.__data,function(b,c){var e=new a.childModel(b);e.$parent=a,e.select=function(b,e){return this.$selected=b,a.$selected[c]=b,b?a.$selectedCount++:a.$selectedCount--,e!==!0&&d.call(a),this},a.__modeled[c]=e}),a.__modeled)},set:function(a){var b=this.end(!0);return b.__data=a,b.length=b.__data.length,b.$loaded=b.$loaded||b.length>0,b.__modeled=null,b.__filter&&b.filter(b.__filter),b.__sort&&b.sort(b.__sort),b},add:function(a){var c=this,e=[];if(u(a)||null===a)e.push({});else if(a instanceof c.childModel)e.push(a);else if(a instanceof b)e.push(a.get());else if(a instanceof f)e=e.concat(a.get());else if(s(a)===!0)y(a,function(a,b){e.push(b)});else{if(r(a)!==!0)throw new Error("Invalid object added to Collection: "+a);e.push(a)}return y(e,function(a,f){a instanceof c.childModel==!1&&(a instanceof b&&(a=a.get()),a=new c.childModel(a),a.$parent=c,a.select=function(a,b){this.$selected=a,c.$selected[f]=a,a?c.$selectedCount++:c.$selectedCount--,b!==!0&&d.call(c)},e[f]=a)}),c.__addData=e,a instanceof f||s(a)===!0?e:e[0]},filter:function(a){var b=this,c=[];if(b.__data.length>0)if(o(a)===!0)b.__filter=a,b.select(!1),b.__origData=b.__origData||z(b.__data),b.__data=h(b.get(),a),b.length=b.__data.length,b.__modeled=null;else{if(r(a)!==!0)throw new Error("Invalid filter value provided: "+h);keys(a).length>0&&(b.__filter=a,b.select(!1),b.__origData=b.__origData||z(b.__data),h(b.get(),function(b){var d=!0;g(a,function(a,c){var e;return e=o(b[c])===!0?b[c]():b[c],d=d&&e===a,d===!1?d:void 0}),d===!0&&c.push(b.get())}),b.__data=c,b.length=b.__data.length,b.__modeled=null,d.call(b))}else b.__filter=a;return b},sort:function(a,b){function c(a,c){var d=a;return o(a)===!1&&(a=function(a,f){return a=e(d,a),f=e(d,f),r(a)&&(a=JSON.stringify(a)),r(f)&&(f=JSON.stringify(f)),b!==!0&&(a=(""+a).toLowerCase(),f=(""+f).toLowerCase()),c?a>f?-1:f>a?1:0:a>f?1:f>a?-1:0}),a}function d(a,b){return a=c(a,b),a.next=function(a,b){var e=this;return a=c(a,b),d(function(b,c){return e(b,c)||a(b,c)})},a}var f,g,h=this;if(h.length>0){if(p(a)===!0&&(a=a.split()),o(a)===!0)h.__sort=a,h.__origData=h.__origData||z(h.__data),h.__modeled=h.get().sort(a);else{if(!(s(a)===!0&&a.length>0))throw new Error("Invalid sort value provided: "+a);for(h.__origData=h.__origData||z(h.__data),f=a.reverse().length;f--;){if(a[f]=a[f].exec(i),3!==a[f].length)throw new Error("Invalid sort value provided: "+a[f]);g?g.next(a[f][2],"-"===a[f][1]?!0:!1):g=d(a[f][2],"-"===a[f][1]?!0:!1)}h.__modeled=h.get().sort(g)}h.__data=new Array(h.length),h.each(function(a,b){h.__data[b]=a.get()})}else h.__sort=a;return h},end:function(a){var b=this;return null!==b.__origData&&(b.select(!1),b.__data=z(b.__origData),b.__addData=[],b.__modeled=null,b.length=b.__data.length,b.__origData=null,a!==!0&&(delete b.__sort,delete b.__filter)),b},unique:function(a){var b=this,d={},f=[];return p(a)&&a.length>0&&b.each(function(b,g){var h=e(a,g);s(h)===!0?y(h,function(a){r(a)===!0&&(a=JSON.stringify(a)),d[a.toString()]===c&&(d[a.toString()]=!0,f.push(a))}):(r(h)===!0&&(h=JSON.stringify(h)),d[h.toString()]===c&&(d[h.toString()]=!0,f.push(h)))}),f},select:function(a,b){var c=this;return a===!0?(c.$selected=new Array(c.length),c.$selectedCount=0,c.each(function(){this.select(!0,!0)})):a===!1?(c.each(function(){this.select(!1,!0)}),c.$selected=[],c.$selectedCount=0):q(a)===!0&&c.get()[a].select(b),d.call(c),c},clone:function(){var a=this,b=a._super.apply(a,arguments);return b.__data=z(a.__data),b.__addData=z(a.__addData),b.__origData=z(a.__origData),b.length=a.length,b.$loaded=b.$loaded,b.$selected=a.$selected,b.$selectedCount=a.$selectedCount,b.$allSelected=a.$allSelected,b.$noneSelected=a.$noneSelected,b},resolve:function(){var a=this;return a.$loaded=!0,delete a.$busy,a._super.apply(a,arguments)},reject:function(){var a=this;return a.$loaded=!0,delete a.$busy,a._super.apply(a,arguments)},refresh:function(){var a=this;return a.__lastReadData?a.read(a.__lastReadData):a.read()},readService:!1,read:function(a,b){var c,d=this;return d.$busy===!0?(d.always(function(){d.read(a,b)}),b=d.unfinalize(),d):(b=b||d.unfinalize(),_.m_isFunction(d.readService)&&(d.$busy=!0,d.__lastReadData=a||{},c=d.readService(a,function(a){delete d.$errors.read,d.set(a),d.resolve(b)},function(a){d.$errors.read=a,d.reject(b)}),c===!1&&(d.$errors.read=!0,d.reject(b))),d)},updateService:!1,update:function(a,b){var c,d=this;if(d.$busy===!0)return d.always(function(){d.update(a,b)}),b=d.unfinalize(),d;if(b=b||d.unfinalize(),o(d.updateService)){if(d.$busy=!0,0===arguments.length)return delete d.$errors.update,d.resolve(b);c=d.updateService(a,function(a){delete d.$errors.update,d.resolve(b)},function(a){d.$errors.update=a,d.reject(b)}),c===!1&&(d.$errors.update=!0,d.reject(b))}else d.$errors.update=!0,d.reject(b);return d}})}function n(){return{restrict:"E",require:"?ngModel",link:function(a,b,c,d){function e(){_.forOwn(g.$errors,function(a,b){d.$setValidity(b,a)})}function f(a){return g.valid(a),e(),a}var g=a.$eval(c.ngModel);_.isFunction(g)&&_.isFunction(g.valid)&&(d.$parsers.unshift(f),d.$formatters.unshift(f))}}}var o=b.isFunction,p=b.isString,q=b.isNumber,r=b.isObject,s=b.isArray,t=b.isDate,u=b.isUndefined,v=function(a){return a===!0||a===!1?!0:!1},w=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)?!0:!1},x=function(a){return null===a},y=b.forEach,z=(b.extend,b.copy);b.module("angular-m",[]),b.module("angular-m.http",[]).service("$mhttp",["$rootScope","$http","$q",i]),b.module("angular-m").constant("REGEX",j),b.module("angular-m").factory("Base",k),b.module("angular-m").factory("Singleton",["Base","REGEX",l]),b.module("angular-m").factory("Collection",["Base","Singleton",m]),b.module("angular-m.inputs",[]).directive("input",n).directive("select",n)}(window,window.angular);